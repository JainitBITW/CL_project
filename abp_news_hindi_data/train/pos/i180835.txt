महाराजा रणजीत सिंह के शासनकाल में 1807 ई. से लेकर 1837 ई. तक हरि सिंह नलवा लगातार अफगानों से लोहा लेते रहे। अफगानों के खिलाफ जटिल लड़ाई जीतकर उन्होने कसूर, मुल्तान, कश्मीर और पेशावर में सिख शासन की स्थापना की थी। काबुल बादशाहत के तीन पश्तून उत्तराधिकारी सरदार हरि सिंह नलवा के प्रतिद्वंदी थे। पहला था अहमद शाह अब्दाली का पोता, शाह शूजा ; दूसरा फ़तह खान, दोस्त मोहम्मद खान और उनके बेटे, तीसरा, सुल्तान मोहम्मद खान, जो अफगानिस्तान के राजा जहीर शाह  का पूर्वज था।