1837 में अफ़ग़ानों ने सिखों के जमरूद क़िले पर हमला किया था, जिसमें महाराज रणजीत सिंह ने "राजा" गुलाब सिंह के नेत्रित्व में सहायक सेना भेजी थी। कुछ दिनों की झड़प के बाद सिखों ने अफ़ग़ानों को रोक दिया, पर जमरूद की लड़ाई में हरि सिंह नलवा की हत्या हो गई, जिसके बाद कश्मीर और हज़ारा में कई मुस्लिम कबीलों ने राजविद्रोह की घोशणा कर दी। इनमें तनोली, कर्राल, धुन्द, साती और सुधान शामिल थे। महाराज रणजीत सिंह ने गुलाब सिंह को विद्रोह और विद्रोहियों पर नकेल कसने का काम सौंपा था।