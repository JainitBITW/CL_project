इधर औरंगजेब के आगरा लौट जाने के बाद बीजापुर के सुल्तान ने भी राहत की सांस ली। अब शिवाजी ही बीजापुर के सबसे प्रबल शत्रु रह गए थे। शाहजी को पहले ही अपने पुत्र को नियन्त्रण में रखने को कहा गया था पर शाहजी ने इसमें अपनी असमर्थता जाहिर की। शिवाजी से निपटने के लिए बीजापुर के सुल्तान ने अब्दुल्लाह भटारी को शिवाजी के विरूद्ध भेजा। अफ़जल ने 120000 सैनिकों के साथ 1659 में कूच किया। तुलजापुर के मन्दिरों को नष्ट करता हुआ वह सतारा के 30 किलोमीटर उत्तर वाई, शिरवल के नजदीक तक आ गया। पर शिवाजी प्रतापगढ़ के दुर्ग पर ही रहे। अफजल खाँ ने अपने दूत कृष्णजी भास्कर को सन्धि-वार्ता के लिए भेजा। उसने उसके मार्फत ये सन्देश भिजवाया कि अगर शिवाजी बीजापुर की अधीनता स्वीकार कर ले तो सुल्तान उसे उन सभी क्षेत्रों का अधिकार दे देंगे जो शिवाजी के नियन्त्रण में हैं। साथ ही शिवाजी को बीजापुर के दरबार में एक सम्मानित पद प्राप्त होगा। हालांकि शिवाजी के मंत्री और सलाहकार अस सन्धि के पक्ष में थे पर शिवाजी को ये वार्ता रास नहीं आई। उन्होंने कृष्णजी भास्कर को उचित सम्मान देकर अपने दरबार में रख लिया और अपने दूत गोपीनाथ को वस्तुस्थिति का जायजा लेने अफजल खाँ के पास भेजा। गोपीनाथ और कृष्णजी भास्कर से शिवाजी को ऐसा लगा कि सन्धि का षडयन्त्र रचकर अफजल खाँ शिवाजी को बन्दी बनाना चाहता है। अतः उन्होंने युद्ध के बदले अफजल खाँ को एक बहुमूल्य उपहार भेजा और इस तरह अफजल खाँ को सन्धि वार्ता के लिए राजी किया। सन्धि स्थल पर दोनों ने अपने सैनिक घात लगाकर रखे थे मिलने के स्थान पर जब दोनों मिले तब अफजल खाँ ने अपने कट्यार से शिवाजी पे वार किया बचाव में शिवाजी ने अफजल खाँ को अपने वस्त्रों वाघनखो से मार दिया । 