गूजर और राजपूतों के आ जाने से धीरे-धीरे दून की आबादी बढ़ने लगी। आबादी तथा अन्न की उपज बढ़ने से गढ़वाल राज्य की आमदनी भी बढ़ने लगी। देहरादून की संपन्नता देखकर सन् 1757 में रूहेला सरदार नजीबुद्दौला ने हमला किया। इस हमले को रोकने में गढ़वाल राज्य नाकाम रहा, जिसके फलस्वरूप देहरादून मुगलों के हाथ में चला गया। देहरादून के तत्कालीन शासक नजब खाँ ने इसके परिक्षेत्र को बढ़ाने में भरपूर कोशिश की। उसने आम के पेड़ लगवाने, नहर खुदवाने तथा खेती का स्तर सुधारने में स्थानीय निकायों को भरसक मदद पहुंचाई, लेकिन नजब खाँ की मौत के बाद किसानों की दशा फिर दीनहीन हो गई। 