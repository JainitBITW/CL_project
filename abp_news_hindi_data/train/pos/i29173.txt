गुरु राम राय दरबार के कारण यहां सिखों की आवाजाही भी बढ़ चुकी थी। अत: एक बार फिर से देहरादून का गौरव समृद्धशाली क्षेत्र के रूप में फैलने लगा। सन् 1785 में गुलाम कादिर ने इस क्षेत्र पर हमला किया। इस बार बड़ी मारकाट मची। गुलाम कादिर ने लौटते समय उम्मेद सिंह को यहां का गवर्नर बनाया। गुलाम कादिर के जिंदा रहते उम्मेद सिंह ने स्वामी भक्ति में कोई कमी न आने दी, लेकिन उनके मरते ही सन् 1796 में उम्मेद सिंह ने गढ़वाल राजा प्रद्युम्न शाह से संधि कर ली। 