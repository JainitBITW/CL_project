8 जून 1707 ई. आगरा के पास जांजू के पास लड़ाई लड़ी गई, जिसमें बहादुरशाह की जीत हुई। इस लड़ाई में गुरु गोविन्द सिंह की हमदर्दी अपने पुराने मित्र बहादुरशाह के साथ थी। कहा जाता है कि गुरु जी ने अपने सैनिकों द्वारा जांजू की लड़ाई में बहादुरशाह का साथ दिया, उनकी मदद की। इससे बादशाह बहादुरशाह की जीत हुई। बादशाह ने गुरु गोविन्द सिंह जी को आगरा बुलाया। उसने एक बड़ी क़ीमती सिरोपायो एक धुकधुकी जिसकी क़ीमत 60 हज़ार रुपये थी, गुरुजी को भेंट की। मुग़लों के साथ एक युग पुराने मतभेद समाप्त होने की सम्भावना थी। गुरु साहब की तरफ से 2 अक्टूबर 1707 ई. और धौलपुर की संगत तरफ लिखे हुक्मनामा के कुछ शब्दों से लगता है कि गुरुजी की बादशाह बहादुरशाह के साथ मित्रतापूर्वक बातचीत हो सकती थी। जिसके खत्म होने से गुरु जी आनंदपुर साहिब वापस आ जांएगे, जहाँ उनको आस थी कि खालसा लौट के इकट्ठा हो सकेगा। पर हालात के चक्कर में उनको दक्षिण दिशा में पहुँचा दिया। जहाँ अभी बातचीत ही चल रही थी। बादशाह बहादुरशाह कछवाहा राजपूतों के विरुद्ध कार्यवाही करने कूच किया था कि उसके भाई कामबख़्श ने बग़ावत कर दी। बग़ावत दबाने के लिए बादशाह दक्षिण की तरफ़ चला और विनती करके गुरु जी को भी साथ ले गया। पंजाब में 1708 ई. में गुरु गोविन्द सिंह की मुत्यु के बाद सिक्खों ने बन्दा सिंह के नेतृत्व में मुग़लों के विरुद्ध विद्रोह कर दिया। उसने मुसलमानों के विरुद्ध लड़ने के लिए पंजाब के विभिन्न हिस्सों से बड़ी संख्या में सिक्खों को इकट्ठा किया तथा कैथल, समाना, शाहबाद, अम्बाला, क्यूरी तथा सधौरा पर क़ब्ज़ा कर लिया। उसकी सबसे बड़ी विजय सरहिन्द के गर्वनर नजीर ख़ाँ के विरुद्ध थी, जिसे उसने हराकर मार डाला। उसके बारे में कहा जाता है कि, उसमें गुरु गोविन्द सिंह की आत्मा का निवास था। उसने स्वयं को 'सच्चा बादशाह' घोषित किया, अपने टकसाल चलायीं और एक स्वतंत्र सिक्ख राज्य की स्थापना का प्रयत्न किया। बन्दा ने सरहिन्द, सोनीपत, सधौरा, एवं उत्तर प्रदेश के कई स्थानों पर खूब लूटपाट की। बहादुर शाह प्रथम ने सिख नेता बन्दा को दण्ड देने के लिए 26 जून, 1710 को सधौरा में घेरा डाला। यहाँ से बन्दा भागकर लोहागढ़ के क़िले में आ गया। बहादुरशाह ने लोहगढ़ को घेरकर सिखों से कड़ा संघर्ष करते हुए, अन्ततः दुर्ग पर क़ब्ज़ा कर लिया। परन्तु क़ब्ज़े के पूर्व ही बन्दा फरार हो गया। 1711 ई. में मुग़लों ने पुनः सरहिन्द पर अधिकर कर लिया। लोहगढ़ का क़िला गुरु गोविन्द सिंह ने अम्बाला के उत्तर-पूर्व में हिमालय की तराई में बनाया था। बहादुर शाह प्रथम ने बुन्देला सरदार 'छत्रसाल' से मेल-मिलाप कर लिया। छत्रसाल एक निष्ठावान सामन्त बना रहा।